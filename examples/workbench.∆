
# Long term syntax?
# data Position
# 	x f32
# 	y f32

# pos = Position
# 	x: 2.3
# 	y: 3.4

# Short term syntax?
# component Position { x f32, y f32, z f32 }
# component Velocity { dx f32, dy f32 }
# pos = Position { y 2.3, x 4.5, z 3.0 }
# vel = Velocity { dx 1.0, dy 0.5 }

# --------------------

# for Position p, Velocity v in ∆
# 	p += v

# component Player {
# 	p Position
# 	v Velocity
# }

# ∆(Player p)
# 	p.p += p.v

# ∆(Position p, Velocity v)
# 	| each(.p = )

# TODO(anissen): How to differentiate mutation of ∆ from simply creating a new ∆?
# ∆ = ∆(Position p, Velocity v)
# 	| map(.p += .v)

# ∆(Position p, Velocity v)
# 	p += v

# entities = ∆(Position p, Velocity v)

# entities
# 	| each
# 		.p += .v

# --------------

# TODO:
# - Move more examples from workbench into snapshots
# - Add a result diff to snapshot runs
# - Improve time steps for prism?
# - Initial query support for components
# - Exhaustiveness tests for `is`
# - Shorthand for partial `is`?

stoplight_color = \v
	v is
		_ if v >. 0.0
			:red
		_ if v == 0.0
			:yellow 4
		_
			:green
res = (0.0 | stoplight_color)
res is
	:red
		"maybe"
	:yellow x
		"yellow with value {x}"
	_
		"also no"
